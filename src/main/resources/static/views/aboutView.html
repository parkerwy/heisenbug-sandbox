<md-content class="md-padding">
    <md-tabs class="md-accent" md-dynamic-height>
        <md-tab ng-cloak md-on-select="loadInfo()">
            <md-tab-label>Info</md-tab-label>
            <md-tab-body>
                <h3>Build</h3>
                <p>
                    version <strong>{{info.build.version}}</strong> is built at <strong>{{info.build.time}}</strong>
                </p>

                <h3>Source Code</h3>
                <p>
                    <strong>{{info.git.commit.user.name}}</strong> committed [{{info.git.commit["id.abbrev"]}}]
                    <u>{{info.git.commit.message.short}}</u> to repository <u>{{info.git.remote.origin.url}}</u> at
                    <strong>{{info.git.commit.time}}</strong>
                </p>
            </md-tab-body>
        </md-tab>
        <md-tab ng-cloak md-on-select="loadHealth()">
            <md-tab-label>Health</md-tab-label>
            <md-tab-body>
                <h3>Status {{health.status}}</h3>

                <p>
                    <strong>{{health.db.database}}</strong> database is <strong>{{health.db.status}}</strong>.
                </p>

                <p>
                    disk space is <strong>{{health.diskSpace.total | number:0}}</strong> in total, with <strong>{{health.diskSpace.free
                    | number:0}}</strong>
                    free.
                </p>
            </md-tab-body>
        </md-tab>
        <md-tab ng-cloak md-on-select="loadMetrics()">
            <md-tab-label>Metrics</md-tab-label>
            <md-tab-body>
                <h3>CPU</h3>
                <p>
                    <strong>{{metrics.processors}}</strong>
                    processors, average load <strong>{{metrics["systemload.average"] | number:2}}</strong>.
                </p>
                <h3>Memory</h3>
                <p>
                    <strong>{{metrics["mem.free"] | number:0}}</strong> free / <strong>{{metrics.mem |
                    number:0}}</strong> total
                </p>
                <h3>JVM</h3>
                <p>
                    up running for <strong>{{metrics.uptime | number:0}}</strong> milliseconds.
                </p>
                <p>
                    <strong>{{metrics.threads | number:0}}</strong> threads.
                </p>
                <p>
                    <strong>{{metrics["httpsessions.active"] | number:0}}</strong> active http sessions.
                </p>
            </md-tab-body>
        </md-tab>
        <md-tab ng-cloak md-on-select="loadMappings()">
            <md-tab-lable>Mappings</md-tab-lable>
            <md-tab-body>
                <ul>
                    <li ng-repeat="(key, value) in mappings">
                        <h4>{{key}}</h4>
                        <p>{{value.bean}}</p>
                        <p>{{value.method}}</p>
                    </li>
                </ul>
            </md-tab-body>
        </md-tab>
        <md-tab ng-cloak md-on-select="loadEnv()">
            <md-tab-lable>Environment</md-tab-lable>
            <md-tab-body>
                <h3>Spring Profiles</h3>
                <ul>
                    <li ng-repeat="profile in env.profiles">
                        {{profile}}
                    </li>
                </ul>
                <h3>Runtime Settings</h3>
                <md-tabs md-dynamic-height>
                    <md-tab>
                        <md-tab-lable>JVM Properties</md-tab-lable>
                        <md-tab-body>
                            <md-table-container>
                                <table md-table>
                                    <thead md-head>
                                    <tr md-row>
                                        <th md-column>Key</th>
                                        <th md-column>Value</th>
                                    </tr>
                                    </thead>
                                    <tbody md-body>
                                    <tr md-row ng-repeat="(key, value) in env.systemProperties">
                                        <td md-cell>{{key}}</td>
                                        <td md-cell>{{value}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </md-table-container>
                        </md-tab-body>
                    </md-tab>
                    <md-tab>
                        <md-tab-lable>Environment Variables</md-tab-lable>
                        <md-tab-body>
                            <md-table-container>
                                <table md-table>
                                    <thead md-head>
                                    <tr md-row>
                                        <th md-column>Name</th>
                                        <th md-column>Value</th>
                                    </tr>
                                    </thead>
                                    <tbody md-body>
                                    <tr md-row ng-repeat="(name, value) in env.systemEnvironment">
                                        <td md-cell>{{name}}</td>
                                        <td md-cell>{{value}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </md-table-container>
                        </md-tab-body>
                    </md-tab>
                </md-tabs>
            </md-tab-body>
        </md-tab>
    </md-tabs>
</md-content>